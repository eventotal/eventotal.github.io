<!DOCTYPE html>
<html>
	<head>
		 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
		 <title>EVENTOS BGA: HOY</title>
		 <!-- CSS  -->
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		 <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
		 <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
		 <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
		 <script>
			 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-65620025-1', 'auto');
			 ga('send', 'pageview');
		 </script>
	</head>
	<body>
<!--HEADER-->
		<div class="section  pink darken-2 no-pad-bot no-pad-top">
			<div class="container">
				<div class="row" style="margin-bottom: 0;">
					<div class="col s12 m2 l2">
						<img class="center-img" width="120" src="logo-eventotal.png"></img>
					</div>
				</div>
			</div>
		</div>
<!--NOMBRE SECCION-->
		<div class="section">
			<div class="container">
				<div class="row">
					<div class="col s12 m12 l12">
						EVENTOS AUTOLAB.
					</div>
				</div>
			</div>
		</div>
<!--LOS EVENTOS VAN AQUI-->
		<div class="section">
			<div class="container">
				<div class="row">
					<div class="col s12 m12 l12" id="zona-eventos">
						esto deberia cambiar						
					</div>
				</div>
			</div>
		</div>
	
<!--ESCRIPT DE EVENTOS AUTOMATICOS-->
		<script>
			//inicio el XML Http request
			var xmlhttp = new XMLHttpRequest();
			//le digo cual es la ubicacion de mis eventos
			var url="data/eventos.json";
			//verifica que el servidor puede colaborarme
			xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        	myFunction(xmlhttp.responseText);
    		}
			//le digo que quiero obtener la data del json
			xmlhttp.open("GET", url, true);
			//envio la peticion
			xmlhttp.send();
			
			//con la informacion de respuesta a la peticion. hago un "parse"
			function myFunction(response) {
				var obj = JSON.parse(response);
				var arr = obj.eventos;//nombre del objeto mas grande, para nosotros, "eventos"
				var i;
				var out = "<table><tr><th>LO LOGREEEE MUAJAJAJ</th><th>ttNombre</th><th>fecha</th></tr>";
				//itero para generar el codigo
				for(i = 0; i < arr.length; i++) {
					out += "<tr><td>" + 
					arr[i].nombre +
					"</td><td>" +
					arr[i].ttNombre +
					"</td><td>" +
					arr[i].fecha +
					"</td></tr>";
				}	
				out += "</table>"
				//envio la salida al sitio del html donde deseo.
				document.getElementById("zona-eventos").innerHTML = out;
				console.log(out);
		</script>
	</body>
</html>
